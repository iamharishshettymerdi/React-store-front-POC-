{"version":3,"sources":["../src/productSuggestions.js"],"names":["getClient","normalizeProduct","productSuggestions","id","req","res","client","data","getProduct","Promise","all","recommendations","map","e","recommendedItemId","then","results"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,gBAAtB;AACA,OAAOC,gBAAP,MAA6B,0BAA7B;AAEA,eAAe,eAAeC,kBAAf,CAAkCC,EAAlC,EAAsCC,GAAtC,EAA2CC,GAA3C,EAAgD;AAC7D,QAAMC,MAAM,GAAG,MAAMN,SAAS,CAACI,GAAD,EAAMC,GAAN,CAA9B;AACA,QAAME,IAAI,GAAG,MAAMD,MAAM,CAACE,UAAP,CAAkBL,EAAlB,CAAnB,CAF6D,CAI7D;;AACA,SAAO,MAAMM,OAAO,CAACC,GAAR,CACX,CAACH,IAAI,CAACI,eAAL,IAAwB,EAAzB,EAA6BC,GAA7B,CAAiCC,CAAC,IAAIA,CAAC,CAACC,iBAAxC,EAA2DF,GAA3D,CAA+DN,MAAM,CAACE,UAAtE,CADW,EAEXO,IAFW,CAENC,OAAO,IAAIA,OAAO,CAACJ,GAAR,CAAYX,gBAAZ,CAFL,CAAb;AAGD","sourcesContent":["import getClient from './utils/client'\nimport normalizeProduct from './utils/normalizeProduct'\n\nexport default async function productSuggestions(id, req, res) {\n  const client = await getClient(req, res)\n  const data = await client.getProduct(id)\n\n  // TODO: Deal with bad product ids here\n  return await Promise.all(\n    (data.recommendations || []).map(e => e.recommendedItemId).map(client.getProduct)\n  ).then(results => results.map(normalizeProduct))\n}\n"],"file":"productSuggestions.js"}