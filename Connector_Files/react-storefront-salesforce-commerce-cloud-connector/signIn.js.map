{"version":3,"sources":["../src/signIn.js"],"names":["getClient","encodeUser","COOKIES","signIn","email","password","req","res","client","setHeader","USER","user","json","signedIn","e","console","log","status"],"mappings":"AAAA,OAAOA,SAAP,IAAoBC,UAApB,QAAsC,gBAAtC;AACA,SAASC,OAAT,QAAwB,mBAAxB;AAEA,eAAe,eAAeC,MAAf,CAAsBC,KAAtB,EAA6BC,QAA7B,EAAuCC,GAAvC,EAA4CC,GAA5C,EAAiD;AAC9D,QAAMC,MAAM,GAAGR,SAAS,CAACM,GAAD,CAAxB;;AACA,MAAI;AACF,UAAME,MAAM,CAACL,MAAP,CAAcC,KAAd,EAAqBC,QAArB,CAAN;AACAE,IAAAA,GAAG,CAACE,SAAJ,CAAc,YAAd,EAA6B,GAAEP,OAAO,CAACQ,IAAK,IAAGT,UAAU,CAACO,MAAM,CAACG,IAAR,CAAc,UAAvE;AACA,WAAOJ,GAAG,CAACK,IAAJ,CAAS;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAT,CAAP;AACD,GAJD,CAIE,OAAOC,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,CAA7B;AACA,WAAOP,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqBE,CAArB,CAAP;AACD;AACF","sourcesContent":["import getClient, { encodeUser } from './utils/client'\nimport { COOKIES } from './utils/constants'\n\nexport default async function signIn(email, password, req, res) {\n  const client = getClient(req)\n  try {\n    await client.signIn(email, password)\n    res.setHeader('Set-Cookie', `${COOKIES.USER}=${encodeUser(client.user)}; Path=/`)\n    return res.json({ signedIn: true })\n  } catch (e) {\n    console.log('Sign In error', e)\n    return res.status(500).json(e)\n  }\n}\n"],"file":"signIn.js"}