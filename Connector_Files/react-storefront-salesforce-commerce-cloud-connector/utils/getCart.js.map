{"version":3,"sources":["../../src/utils/getCart.js"],"names":["normalizeProduct","getCart","client","productItems","productTotal","items","length","products","getProducts","ids","map","item","productId","join","data","index","total"],"mappings":"AAAA,OAAOA,gBAAP,MAA6B,oBAA7B;AAEA,eAAe,eAAeC,OAAf,CAAuBC,MAAvB,EAA+B;AAC5C,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAiC,MAAMF,MAAM,CAACD,OAAP,EAA7C;AAEA,MAAII,KAAK,GAAG,EAAZ;;AAEA,MAAIF,YAAY,IAAIA,YAAY,CAACG,MAAjC,EAAyC;AACvC,UAAMC,QAAQ,GAAG,MAAML,MAAM,CAACM,WAAP,CAAmB;AACxCC,MAAAA,GAAG,EAAEN,YAAY,CAACO,GAAb,CAAiBC,IAAI,IAAIA,IAAI,CAACC,SAA9B,EAAyCC,IAAzC,CAA8C,GAA9C;AADmC,KAAnB,CAAvB;AAGAR,IAAAA,KAAK,GAAG,CAACE,QAAQ,CAACO,IAAT,IAAiB,EAAlB,EAAsBJ,GAAtB,CAA0B,CAACC,IAAD,EAAOI,KAAP,KAAiB;AACjD;AACA;AACA,aAAOf,gBAAgB,CAAC,EAAE,GAAGG,YAAY,CAACY,KAAD,CAAjB;AAA0B,WAAGJ;AAA7B,OAAD,CAAvB;AACD,KAJO,CAAR;AAKD;;AAED,SAAO;AACLN,IAAAA,KADK;AAELW,IAAAA,KAAK,EAAEZ;AAFF,GAAP;AAID","sourcesContent":["import normalizeProduct from './normalizeProduct'\n\nexport default async function getCart(client) {\n  const { productItems, productTotal } = await client.getCart()\n\n  let items = []\n\n  if (productItems && productItems.length) {\n    const products = await client.getProducts({\n      ids: productItems.map(item => item.productId).join(','),\n    })\n    items = (products.data || []).map((item, index) => {\n      // Order matters here. `item` will add needed properties\n      // and set the correct variant thumbnail\n      return normalizeProduct({ ...productItems[index], ...item })\n    })\n  }\n\n  return {\n    items,\n    total: productTotal,\n  }\n}\n"],"file":"getCart.js"}