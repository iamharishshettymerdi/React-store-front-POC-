{"version":3,"sources":["../../src/utils/createAppData.js"],"names":["getClient","createAppData","req","client","categories","getMenu","tabs","map","cat","tab","text","name","as","id","href","items","Promise","resolve","menu"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,UAAtB;AAEA,eAAe,eAAeC,aAAf,CAA6BC,GAA7B,EAAkC;AAC/C,QAAMC,MAAM,GAAG,MAAMH,SAAS,CAACE,GAAD,CAA9B;AACA,QAAM;AAAEE,IAAAA,UAAU,GAAG;AAAf,MAAsB,MAAMD,MAAM,CAACE,OAAP,EAAlC;AAEA,QAAMC,IAAI,GAAGF,UAAU,CAACG,GAAX,CAAeC,GAAG,IAAI;AACjC,UAAMC,GAAG,GAAG;AACVC,MAAAA,IAAI,EAAEF,GAAG,CAACG,IADA;AAEVC,MAAAA,EAAE,EAAG,MAAKJ,GAAG,CAACK,EAAG,EAFP;AAGVC,MAAAA,IAAI,EAAE;AAHI,KAAZ;;AAKA,QAAIN,GAAG,CAACJ,UAAR,EAAoB;AAClBK,MAAAA,GAAG,CAACM,KAAJ,GAAYP,GAAG,CAACJ,UAAJ,CAAeG,GAAf,CAAmBC,GAAG,IAAI;AACpC,eAAO;AACLE,UAAAA,IAAI,EAAEF,GAAG,CAACG,IADL;AAELC,UAAAA,EAAE,EAAG,MAAKJ,GAAG,CAACK,EAAG,EAFZ;AAGLC,UAAAA,IAAI,EAAE;AAHD,SAAP;AAKD,OANW,CAAZ;AAOD;;AACD,WAAOL,GAAP;AACD,GAhBY,CAAb;AAkBA,SAAOO,OAAO,CAACC,OAAR,CAAgB;AAAEC,IAAAA,IAAI,EAAE;AAAEH,MAAAA,KAAK,EAAET;AAAT,KAAR;AAAyBA,IAAAA;AAAzB,GAAhB,CAAP;AACD","sourcesContent":["import getClient from './client'\n\nexport default async function createAppData(req) {\n  const client = await getClient(req)\n  const { categories = [] } = await client.getMenu()\n\n  const tabs = categories.map(cat => {\n    const tab = {\n      text: cat.name,\n      as: `/s/${cat.id}`,\n      href: '/s/[...categorySlug]',\n    }\n    if (cat.categories) {\n      tab.items = cat.categories.map(cat => {\n        return {\n          text: cat.name,\n          as: `/s/${cat.id}`,\n          href: '/s/[...categorySlug]',\n        }\n      })\n    }\n    return tab\n  })\n\n  return Promise.resolve({ menu: { items: tabs }, tabs })\n}\n"],"file":"createAppData.js"}